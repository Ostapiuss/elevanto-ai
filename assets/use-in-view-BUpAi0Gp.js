import{ac as p,r as g}from"./index-C9oXrFP-.js";const E={some:0,all:1};function I(s,r,{root:i,margin:f,amount:t="some"}={}){const u=p(s),n=new WeakMap,a=c=>{c.forEach(e=>{const l=n.get(e.target);if(e.isIntersecting!==!!l)if(e.isIntersecting){const d=r(e.target,e);typeof d=="function"?n.set(e.target,d):o.unobserve(e.target)}else typeof l=="function"&&(l(e),n.delete(e.target))})},o=new IntersectionObserver(a,{root:i,rootMargin:f,threshold:typeof t=="number"?t:E[t]});return u.forEach(c=>o.observe(c)),()=>o.disconnect()}function w(s,{root:r,margin:i,amount:f,once:t=!1,initial:u=!1}={}){const[n,a]=g.useState(u);return g.useEffect(()=>{if(!s.current||t&&n)return;const o=()=>(a(!0),t?void 0:()=>a(!1)),c={root:r&&r.current||void 0,margin:i,amount:f};return I(s.current,o,c)},[r,s,i,t,f]),n}export{w as u};
