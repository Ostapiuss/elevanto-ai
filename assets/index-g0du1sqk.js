import{a2 as g,r as d,j as I,x as E}from"./index-Dq0lbBzZ.js";const m={some:0,all:1};function w(t,n,{root:s,margin:r,amount:o="some"}={}){const f=g(t),i=new WeakMap,u=a=>{a.forEach(e=>{const l=i.get(e.target);if(e.isIntersecting!==!!l)if(e.isIntersecting){const p=n(e.target,e);typeof p=="function"?i.set(e.target,p):c.unobserve(e.target)}else typeof l=="function"&&(l(e),i.delete(e.target))})},c=new IntersectionObserver(u,{root:s,rootMargin:r,threshold:typeof o=="number"?o:m[o]});return f.forEach(a=>c.observe(a)),()=>c.disconnect()}function h(t,{root:n,margin:s,amount:r,once:o=!1,initial:f=!1}={}){const[i,u]=d.useState(f);return d.useEffect(()=>{if(!t.current||o&&i)return;const c=()=>(u(!0),o?void 0:()=>u(!1)),a={root:n&&n.current||void 0,margin:s,amount:r};return w(t.current,c,a)},[n,t,s,o,r]),i}const x=({children:t,delay:n=0})=>{const s=d.useRef(null),r=h(s,{once:!0,margin:"-100px"});return I.jsx(E.div,{ref:s,initial:{opacity:0,y:40},animate:r?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut",delay:n},children:t})};export{x as S,h as u};
